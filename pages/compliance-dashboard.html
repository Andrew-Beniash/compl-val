<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Compliance Dashboard | ECMS</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

  <link rel="stylesheet" href="../css/design-system.css">
  <link rel="stylesheet" href="../css/styles.css">

  <!-- Simple Chart.js mock style for visual hierarchy -->
  <style>
    .chart-placeholder {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      background: conic-gradient(var(--color-success) 0% 65%,
          var(--color-warning) 65% 85%,
          var(--color-danger) 85% 100%);
      margin: 0 auto;
      position: relative;
    }

    .chart-inner {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100px;
      height: 100px;
      background: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }
  </style>
</head>

<body>
  <div class="main-layout">
    <header class="app-header">
      <div class="container nav-container">
        <div class="flex-item-center gap-2">
          <button class="mobile-toggle"><span class="material-symbols-outlined">menu</span></button>
          <a href="../dashboard.html" class="brand">
            <span class="material-symbols-outlined brand-icon">verified_user</span> ECMS
          </a>
        </div>
        <nav class="nav-links">
          <a href="../dashboard.html" class="nav-link">Dashboard</a>
          <a href="products-list.html" class="nav-link">Products</a>
          <a href="frameworks-list.html" class="nav-link">Frameworks</a>
          <a href="questionnaires-list.html" class="nav-link">Questionnaires</a>
          <a href="compliance-dashboard.html" class="nav-link active">Reports</a>
        </nav>
        <div class="user-profile">
          <button class="avatar-btn" data-dropdown-trigger="user-dropdown">
            <div class="avatar">JD</div>
          </button>
          <div id="user-dropdown" class="dropdown-menu">
            <a href="login.html" class="dropdown-item" style="color: var(--color-danger);">Sign Out</a>
          </div>
        </div>
      </div>
    </header>

    <main class="container" style="padding-top: var(--space-8); padding-bottom: var(--space-8);">

      <div class="flex-item-center" style="justify-content: space-between; margin-bottom: var(--space-6);">
        <div>
          <nav class="breadcrumb">
            <a href="../dashboard.html" class="breadcrumb-item">Dashboard</a>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-item active">Compliance Reports</span>
          </nav>
          <h1>Compliance Status</h1>
        </div>
        <div class="flex-item-center gap-2">
          <button class="btn btn-secondary"><span class="material-symbols-outlined">calendar_today</span> Last 30
            Days</button>
          <button class="btn btn-primary"><span class="material-symbols-outlined">download</span> Export
            Summary</button>
        </div>
      </div>

      <!-- Top Stats -->
      <div class="dashboard-grid mb-8">
        <div class="card flex-item-center" style="justify-content: space-between;">
          <div>
            <h3 class="text-sm text-muted">Total Products</h3>
            <div style="font-size: var(--font-size-2xl); font-weight: bold;">24</div>
          </div>
          <span class="material-symbols-outlined text-muted" style="font-size: 32px;">inventory_2</span>
        </div>
        <div class="card flex-item-center" style="justify-content: space-between;">
          <div>
            <h3 class="text-sm text-muted">Non-Compliant</h3>
            <div style="font-size: var(--font-size-2xl); font-weight: bold; color: var(--color-danger);">3</div>
          </div>
          <span class="material-symbols-outlined text-muted" style="font-size: 32px;">warning</span>
        </div>
        <div class="card flex-item-center" style="justify-content: space-between;">
          <div>
            <h3 class="text-sm text-muted">Frameworks Tracked</h3>
            <div style="font-size: var(--font-size-2xl); font-weight: bold;">5</div>
          </div>
          <span class="material-symbols-outlined text-muted" style="font-size: 32px;">gavel</span>
        </div>
      </div>


      <div style="display: grid; grid-template-columns: 2fr 1fr; gap: var(--space-6); margin-bottom: var(--space-8);">
        <!-- Main Table -->
        <div class="card">
          <div class="flex-item-center" style="justify-content: space-between; margin-bottom: var(--space-4);">
            <h3 class="card-title">Product Compliance Overview</h3>
            <div class="flex-item-center gap-2">
              <input type="text" class="form-input" style="padding: 4px 8px; font-size: 12px; width: 150px;"
                placeholder="Filter products...">
            </div>
          </div>

          <table class="data-table">
            <thead>
              <tr>
                <th>Product</th>
                <th>Frameworks</th>
                <th>Compliance Status</th>
                <th>Score</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <a href="product-compliance-detail.html"
                    style="font-weight: 500; color: var(--color-text-heading);">Payment Gateway SDK</a>
                </td>
                <td><span class="badge" style="border: 1px solid #cbd5e1;">PCI-DSS</span></td>
                <td>
                  <div class="progress-stacked" style="width: 120px;">
                    <div class="progress-bar bg-success" style="width: 95%"></div>
                    <div class="progress-bar bg-danger" style="width: 5%"></div>
                  </div>
                </td>
                <td><span style="font-weight: bold; color: var(--color-success);">95% (A)</span></td>
                <td><a href="product-compliance-detail.html" class="btn btn-icon-only"><span
                      class="material-symbols-outlined">chevron_right</span></a></td>
              </tr>
              <tr>
                <td>
                  <a href="#" style="font-weight: 500; color: var(--color-text-heading);">Auth Service</a>
                </td>
                <td>
                  <div class="flex-item-center gap-1">
                    <span class="badge" style="border: 1px solid #cbd5e1;">SOC 2</span>
                    <span class="badge" style="border: 1px solid #cbd5e1;">GDPR</span>
                  </div>
                </td>
                <td>
                  <div class="progress-stacked" style="width: 120px;">
                    <div class="progress-bar bg-success" style="width: 45%"></div>
                    <div class="progress-bar bg-warning" style="width: 20%"></div>
                    <div class="progress-bar bg-danger" style="width: 35%"></div>
                  </div>
                </td>
                <td><span style="font-weight: bold; color: var(--color-danger);">45% (F)</span></td>
                <td><a href="#" class="btn btn-icon-only"><span
                      class="material-symbols-outlined">chevron_right</span></a></td>
              </tr>
              <tr>
                <td>
                  <a href="#" style="font-weight: 500; color: var(--color-text-heading);">Customer Data Platform</a>
                </td>
                <td><span class="badge" style="border: 1px solid #cbd5e1;">GDPR</span></td>
                <td>
                  <div class="progress-stacked" style="width: 120px;">
                    <div class="progress-bar bg-success" style="width: 78%"></div>
                    <div class="progress-bar bg-warning" style="width: 12%"></div>
                    <div class="progress-bar bg-danger" style="width: 10%"></div>
                  </div>
                </td>
                <td><span style="font-weight: bold; color: var(--color-warning);">78% (C)</span></td>
                <td><a href="#" class="btn btn-icon-only"><span
                      class="material-symbols-outlined">chevron_right</span></a></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Charts -->
        <div style="display: flex; flex-direction: column; gap: var(--space-6);">
          <div class="card">
            <h3 class="card-title" style="margin-bottom: var(--space-4);">Overall Health</h3>
            <div class="chart-placeholder">
              <div class="chart-inner">
                <span style="font-weight: bold; font-size: 1.5rem;">65%</span>
                <span class="text-xs text-muted">Passing</span>
              </div>
            </div>
            <div class="chart-legend" style="margin-top: var(--space-6); justify-content: center;">
              <div class="legend-item">
                <div class="dot" style="background: var(--color-success);"></div> Pass
              </div>
              <div class="legend-item">
                <div class="dot" style="background: var(--color-warning);"></div> Risk
              </div>
              <div class="legend-item">
                <div class="dot" style="background: var(--color-danger);"></div> Fail
              </div>
            </div>
          </div>

          <div class="card">
            <h3 class="card-title" style="margin-bottom: var(--space-4);">Recent Analysis Runs</h3>
            <div class="timeline">
              <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-date">Today, 9:00 AM</div>
                <div style="font-weight: 500;">Payment Gateway SDK</div>
                <div class="text-sm text-muted">Automated Scan: Success</div>
              </div>
              <div class="timeline-item">
                <div class="timeline-dot" style="background: var(--color-danger); border-color: var(--color-danger);">
                </div>
                <div class="timeline-date">Yesterday</div>
                <div style="font-weight: 500;">Auth Service</div>
                <div class="text-sm text-muted">Failed: Critical Vulnerabilities</div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </main>
  </div>
  <script src="../js/main.js"></script>
</body>

</html>